# «Базы данных, их типы» - Абрамов Сергей


### Задание 1



Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?


### Ответ

1.1 Реляционная база данных обеспечит четкую структуру данных и целостность сведений.

Реляционные БД в работе используют язык структурированных запросов, при помощи которого обрабатывают данные и управляют ими. Он подходит для любых запросов в том числе и сложных, но есть и ограничения. В SQL применяются только схемы, заданные наперед, чем достигается высокая согласованность. Также требуется заранее определять структуру данных, подстраивая их к некому «стандарту». Реляционную базу можно масштабировать по вертикали, увеличивая нагрузку на каждый отдельный server. В результате повысится мощность центрального процессора, оперативной памяти, твердотельного диска.

1.1.* Библиотеки и SDK (Software Development Kit). Эти API предоставляются в виде библиотек или наборов инструментов, которые разработчики могут внедрить непосредственно в свои приложения. Они часто используются для работы с конкретными языками программирования или платформами.

Протоколы клиент‑серверных API, как правило, разрабатываются так, что не зависят от конкретного языка программирования и, таким образом, без дополнительных действий полученные из API данные будут представлены в не самом удобном формате. Например в JSON нет типа данных «дата и время», и его приходится передавать в виде строки; или, скажем, поддержка (де)сериализации хэш‑таблиц в протоколах общего назначения отсутствует.

1.2  Нереляционная СУБД. СУБД «ключ-значение» (key-value). Достаточно простой вариант, который можно представить в виде таблицы с уникальным ключом и связанным с ним значением, в котором может быть какая угодно информация. Такие СУБД обладают хорошим быстродействием, некоторые могут работать полностью в памяти, задавать срок жизни записи, после истечения которого запись будет удалена. Наиболее известные представители типа key-value — Redis и Memcached.

1.3 Документные (документно ориентированные) СУБД — это достаточная популярная разновидность СУБД NoSQL. В таких СУБД основной единицей логической модели данных является документ, то есть структурированный текст с определенным синтаксисом. Данные хранятся в форматах JSON, XML и подобных. Примеры документно ориентированных СУБД: CouchDB, MongoDB, Amazon DocumentDB. Подобные СУБД выбирают, как правило, для задач поиска по каталогу. Например, в MongoDB есть технология быстрого полнотекстового поиска (поиск слов или фраз в текстовых данных). Кроме того, документные СУБД хорошо подойдут в случае хранения структур, включая объекты, списки и словари, особенно в формате JSON. Однако документная СУБД не подойдет для работы с транзакциями и для формирования отчетности.

1.3 * Можно реализовать в реляционной бд , но придется делать множество таблиц и связывать их между собой.

1.4  Графовые базы данных. 
Задачи оптимизации маршрутов предполагают анализ набора данных и поиск значений, которые наилучшим образом подходят для конкретного сценария. Например, можно использовать графовую базу данных для поиска следующих параметров.

Кратчайший маршрут из точки А в точку Б на карте с учетом различных путей.
Подбор подходящего сотрудника для конкретной рабочей смены на основе анализа различных возможностей, местоположения и навыков.
Подбор оптимального оборудования для работы с учетом таких параметров, как стоимость и срок службы оборудования.
С помощью графовых запросов такие ситуации можно анализировать гораздо быстрее, подсчитывая и сравнивая количество связей между двумя узлами.

1.4 * Можно подключить , но скорей всего не все функции для отдела закупок будут удовлетворены , такие как хронение документации по закупкам.

1.5 Система баз данных объединения - Federated database system

A Система баз данных объединения является типом мета- система управления базами данных (СУБД), которая прозрачно отображает несколько автономных систем баз данных в единую объединенную базу данных . Составляющие базы данных связаны между собой через компьютерную сеть и могут быть географически децентрализованы. Поскольку составляющие системы баз данных остаются автономными, система федеративных баз данных является контрастной альтернативой (иногда сложной) задаче слияния нескольких разрозненных баз данных. База данных объединения, или виртуальная база данных, представляет собой составную часть всех составляющих баз данных в системе баз данных объединения. Фактическая интеграция данных в составляющих разрозненных базах данных отсутствует в результате объединения данных.

Посредством абстракции данных системы баз данных объединения могут предоставлять единый пользовательский интерфейс, позволяя пользователям и клиентам хранить и получить данные из нескольких несмежных баз данных с помощью одного запроса - даже если составляющие базы данных разнородны. С этой целью система федеративных баз данных должна иметь возможность разложить запрос на подзапросы для отправки в соответствующие составляющие СУБД, после чего система должна составить наборы результатов подзапросов. Поскольку в разных системах управления базами данных используются разные языки запросов, системы федеративных баз данных могут применять оболочки к подзапросам, чтобы переводить их на соответствующие языки запросов



---

### Задание 2

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

### Ответ


1. Прочесть баланс на банковском счету 
2. Уменьшить баланс на нужную сумму денежных единиц.
3. Сохранить новый баланс банковского счёта 
4. Прочесть баланс на счету оператора связи.
5. Увеличить баланс на нужную сумму денежных единиц.
6. Сохранить новый баланс счета оператора связи.



2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

### Ответ

2. Уменьшить баланс на нужную сумму денежных единиц.
3. Сохранить новый баланс банковского счёта 
4. Прочесть баланс на счету оператора связи.
5. Увеличить баланс на нужную сумму денежных единиц.
6. Сохранить новый баланс счета оператора связи.


А так если настроить автоплатеж по окончанию средств на счете , то можно и никаких не совершать, нужно только иметь денежные средства на карте.



---

### Задание 3


3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.


### Ответ

3.1 Необходимость соответствия базы данных требованиям ACID (Atomicity, Consistency, Isolation, Durability — атомарность, непротиворечивость, изолированность, долговечность)

Это позволяет уменьшить вероятность неожиданного поведения системы и обеспечить целостность базы данных. Достигается подобное путём жёсткого определения того, как именно транзакции взаимодействуют с базой данных. Это отличается от подхода, используемого в NoSQL-базах, которые ставят во главу угла гибкость и скорость, а не 100% целостность данных.

3.1* Относительно новая концепция NewSQL призвана решить эту проблему, объединив преимущества реляционных БД с распределенной архитектурой.

приложения взаимодействуют в основном посредством SQL;
транзакции полностью поддерживают требования ACID;
при управлении не применяется механизм блокировок – таким образом, исключается вероятность конфликта между записываемыми и считываемыми в реальном времени данными;
архитектура shared—nothing, при которой каждой узел системы отвечает за свой набор данных, являясь независимым и самодостаточным, подразумевает легкую и быструю масштабируемость;
производительность узла СУБД на NewSQL намного выше, чем у традиционных РСУБД;
скорость отклика системы в 50 раз превышает эту величину у традиционных РСУБД.
Такое решение может понравится всем: специалистам – потому что новая архитектура надежна и вместе с тем работает гораздо быстрее и производительнее, чем «классика» РСУБД, администраторам – потому что поддерживать работу такой распределенной системы гораздо проще; наконец, предпринимателям – потому что обеспечение работы распределенной системы в ее классическом понимании требует больших вложений – решив же отдать предпочтение CУБД на NewSQL, можно уберечь себя от лишних временных, денежных и даже кадровых затрат. А поскольку «общаться» c системой можно будет все на том же SQL, перейти на нее, по крайней мере, специалистам по работе с данными, будет не слишком трудно.



### Задание 4



Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?


### Ответ


Критерий выбора -измерение общей вычислительной мощности. Это может включать в себя оценку общей производительности процессоров, объем оперативной памяти и скорость сети. Такой подход учитывает не только количество компьютеров, но и их возможности, что позволяет получить более полную картину о мощности кластера.

Важно учитывать, что размер кластера может изменяться в зависимости от задач, выполняемых на нем. Некоторые кластеры могут быть масштабируемыми, т.е. способными изменять свой размер в соответствии с требованиями. Это важный фактор при выборе и оптимизации работы кластера.

Так как нужна горизонтально маштабируемая база данных, то выбираем NoSQL базу данных.





